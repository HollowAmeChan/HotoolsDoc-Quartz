# Hotools-FBX 导出
文件-导出-Hotools-FBX

> 本模块功能实现方式为：对模型进行预处理后，使用 blender 的默认fbx 导出进行导出  
> 为了能够多版本通用，直接调用 api 并且使用默认 fbx 导出的预设进行参数填入  
> 因此在使用本导出时，请先保证有一个符合预期的默认 fbx 导出预设，然后再在 hotools-fbx 导出时进行指定  
> 使用默认 fbx 导出预设以后，再设置 hotools 导出专有的设置  

> 本导出的优势是，可以清除掉全部种类物体的默认位置变换，并且可以使用检查保留旋转清除掉标记的骨骼的默认旋转变换  
> 如果在引擎中遇到一些插件生成的物件旋转匹配不对，以及动捕无法适配，请尝试使用检查保留旋转来清除掉骨骼的旋转  

检查保留旋转  
- 检查骨架中所有骨骼的 `保留旋转` 属性（可以在骨骼的属性中找到，在 Hotools 页下），若关闭则进行处理  
- 默认骨骼保留旋转为开启，不做处理  
- 对于关闭保留旋转的骨骼，导出后会清空掉旋转信息，再 blender 中体现为骨骼朝前，并且与全部子级断离（可以手动进行这个操作，功能可以在骨骼工具中找到）  

一个可供参考的 fbx 导出预设  
![[Pasted image 20250720223441.png]]  
需要注意其中的应用变换需要关闭，因为本插件已经完成了他所做的工作  
添加叶骨可以视情况打开关闭，如果你手动制作了叶骨，可以关闭  

> 注意不要滥用取消保留旋转  
> 旋转信息可以提供给 unity 各种碰撞体设置很多参考，并且如果清除掉旋转，自动添加的叶骨的位置会偏移，这种情况就需要我们事先手动添加叶骨  

# Hotools-BoneConstraint 导出
文件-导出-Hotools-BoneConstraint 导出  

本功能只支持导出骨架上骨骼的约束，选择一个骨架，会尽可能导出这个骨架所有骨骼的所有约束为 json 文件，需要在 unity 端使用 Hotools 进行导入（唯一用途）

> 只支持 `Copy Location(复制位置)`, `Copy Rotation(复制旋转)`, `Copy Scale(复制缩放)` 三种 blender 骨骼约束  
> 只支持约束到本骨架内其他骨骼的约束，不支持约束到其他物体的约束  
> 只支持，目标= `局部空间(所在者方位)`，拥有者= `局部空间` 的约束，或者说只有这样的约束才能使用 unity 默认的约束做到一样的效果  
> 只支持部分约束的参数，目标骨骼、轴向锁定、影响权重  

